<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ë¦¬ ê°€ì¡± ì‚¬ì´íŠ¸ - Firebase ë²„ì „</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="main-container">
            <!-- ë¡œê·¸ì¸ í™”ë©´ -->
            <div id="auth-container">
                <div class="auth-section">
                    <h1>ğŸ  ìš°ë¦¬ ê°€ì¡± ì‚¬ì´íŠ¸</h1>
                    <p style="margin-bottom: 30px;">ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ ì§€ì›! ğŸ”¥</p>
                    
                    <div class="auth-form">
                        <h2>ê°€ì¡± ì…ì¥</h2>
                        <input type="text" id="username" placeholder="ì‚¬ìš©ìëª… ì…ë ¥ (ì˜ˆ: ì—„ë§ˆ, ì•„ë¹ , ë”¸, ì•„ë“¤)">
                        <input type="text" id="familyCode" placeholder="ê°€ì¡± ì½”ë“œ ì…ë ¥ (ì˜ˆ: kim2024)">
                        <button onclick="login()">ì…ì¥í•˜ê¸°</button>
                        <p style="margin-top: 15px; font-size: 14px; color: #666;">
                            * ê°™ì€ ê°€ì¡± ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê¸°ê¸°ì—ì„œ í•¨ê»˜ ê²Œì„í•  ìˆ˜ ìˆì–´ìš”!
                        </p>
                    </div>
                </div>
            </div>

            <!-- ë©”ì¸ í™”ë©´ -->
            <div id="main-container" class="hidden">
                <header>
                    <h1>ğŸ  ìš°ë¦¬ ê°€ì¡±</h1>
                    <div class="user-info">
                        <span id="welcomeMessage"></span>
                        <span id="onlineCount">ì˜¨ë¼ì¸: 1ëª…</span>
                        <button id="logoutBtn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                    </div>
                </header>

                <div class="nav">
                    <button class="nav-btn active" onclick="showSection('chat')">ğŸ’¬ ì±„íŒ…</button>
                    <button class="nav-btn" onclick="showSection('games')">ğŸ® ê²Œì„</button>
                    <button class="nav-btn" onclick="showSection('photos')">ğŸ“· ì‚¬ì§„</button>
                    <button class="nav-btn" onclick="showSection('board')">ğŸ² ë³´ë“œê²Œì„</button>
                    <button class="nav-btn" onclick="showSection('calendar')">ğŸ“… ì¼ì •</button>
                </div>

                <!-- ì±„íŒ… ì„¹ì…˜ -->
                <div id="chat-section" class="section active">
                    <h2>ğŸ’¬ ê°€ì¡± ì±„íŒ… (ì‹¤ì‹œê°„)</h2>
                    <div class="chat-container">
                        <div id="chatMessages" class="chat-messages"></div>
                        <div class="chat-input">
                            <input type="text" id="messageInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="handleEnter(event)">
                            <label for="imageInput" class="file-btn">ğŸ“·</label>
                            <input type="file" id="imageInput" accept="image/*" onchange="handleImageUpload(event)">
                            <button onclick="sendMessage()">ì „ì†¡</button>
                        </div>
                    </div>
                </div>

                <!-- ë‹¤ë¥¸ ì„¹ì…˜ë“¤ì€ scriptì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„± -->
            </div>
        </div>

        <!-- ì•Œë¦¼ ì‹œìŠ¤í…œ -->
        <div id="notification" class="notification hidden">
            <div class="notification-content">
                <span id="notificationText"></span>
                <button onclick="closeNotification()">Ã—</button>
            </div>
        </div>

        <!-- ëª¨ë‹¬ë“¤ -->
        <div id="gameModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <div id="gameContent"></div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Firebase ì„¤ì • (ì—¬ê¸°ì— Firebaseì—ì„œ ë³µì‚¬í•œ ì„¤ì •ì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!)
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set, get, push, onValue, remove, off } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        // TODO: Firebaseì—ì„œ ë³µì‚¬í•œ ì„¤ì •ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”!
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT.firebaseapp.com",
            databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com/",
            projectId: "YOUR_PROJECT",
            storageBucket: "YOUR_PROJECT.appspot.com",
            messagingSenderId: "123456789",
            appId: "YOUR_APP_ID"
        };

        // Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
        window.database = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebaseGet = get;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
        window.firebaseRemove = remove;
        window.firebaseOff = off;

        console.log('ğŸ”¥ Firebase ì—°ê²° ì™„ë£Œ!');
    </script>

    <script src="firebase-script.js"></script>
</body>
</html>